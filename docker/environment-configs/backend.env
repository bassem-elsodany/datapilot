# DataPilot Docker Environment Overrides
# This file contains Docker-specific environment variables
# that override the backend/.env file for containerized deployment

# ============================================================================
# SERVER SETTINGS (Docker overrides)
# ============================================================================

HOST=0.0.0.0
PORT=8000
DEBUG=false
LOG_LEVEL=INFO
ENVIRONMENT=production

# ============================================================================
# CORS SETTINGS (Docker overrides)
# ============================================================================
CORS_ALLOW_ORIGINS=["*"]
CORS_ALLOW_CREDENTIALS=false
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# ============================================================================
# DATABASE SETTINGS (Docker overrides)
# ============================================================================

# Docker Compose MongoDB configuration
MONGO_HOST=mongodb
MONGO_PORT=27017
MONGO_DB_NAME=datapilot
MONGO_USER=datapilot
MONGO_PASS=datapilot123

# MongoDB Connection Pooling (Production settings)
MONGODB_POOL_SIZE=20
MONGODB_MAX_IDLE_TIME_MS=30000
MONGODB_SERVER_SELECTION_TIMEOUT_MS=5000
MONGODB_CONNECT_TIMEOUT_MS=10000
MONGODB_SOCKET_TIMEOUT_MS=30000
MONGODB_RETRY_WRITES=true
MONGODB_RETRY_READS=true
MONGODB_APP_NAME=datapilot-backend
MONGODB_ENABLE_COMPRESSION=true
MONGODB_MAX_CONNECTING=2

# LangGraph Checkpoint Settings
MONGO_STATE_CHECKPOINT_COLLECTION=workflow_state_checkpoint
MONGO_STATE_WRITES_COLLECTION=workflow_state_writes
MONGO_STATE_CHECKPOINT_DB_NAME=datapilot_agent

# ============================================================================
# DEVELOPMENT SETTINGS (Docker overrides)
# ============================================================================

# Query Execution Settings
QUERY_TIMEOUT_SECONDS=300
QUERY_MAX_ROWS=10000

# Apex Execution Settings
APEX_TIMEOUT_SECONDS=120
APEX_MAX_DEBUG_LEVELS=10

# WebSocket Settings
WEBSOCKET_MAX_CONNECTIONS=100
WEBSOCKET_HEARTBEAT_INTERVAL=30

# Rate Limiting Settings
RATE_LIMIT_REQUESTS_PER_MINUTE=1000
RATE_LIMIT_BURST_SIZE=100

# ============================================================================
# MONITORING AND METRICS
# ============================================================================

ENABLE_METRICS=false
METRICS_PORT=9090

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================

ENABLE_SWAGGER_UI=false
ENABLE_RELOAD=false

# ============================================================================
# LLM Settings
# ============================================================================
LLM_PROVIDER=openai          # openai or "groq" or "ollama"
LLM_MODEL_NAME=gpt-4o-mini   # gpt-4o-mini , llama-3.3-70b-versatile, qwen3:30b or any model name supported by your provider
LLM_API_KEY=sk-your-api-key-here
LLM_TEMPERATURE=0.7
LLM_SUMMERY_TEMPERATURE=0.4
LLM_MAX_TOKENS=15000
LLM_TIMEOUT_SECONDS=60

# If using Ollama, uncomment and set your local Ollama server URL
#LLM_BASE_URL=http://localhost:11434/v1


# ============================================================================
AI_ENABLE_CONFIDENCE_AUTO_SELECTION=true
AI_OBJECT_SELECTION_CONFIDENCE_THRESHOLD=0.80
AI_FIELD_SELECTION_CONFIDENCE_THRESHOLD=0.80
QUERY_DEFAULT_LIMIT=10
METADATA_MAX_OBJECTS=30
METADATA_MAX_FIELDS_PER_OBJECT=10
LLM_MAX_OBJECTS_PER_QUERY=3
CONVERSATION_MAX_SUMMARIZED_INTERACTIONS=5
CLEANUP_INTERVAL_SECONDS=300
MAX_CONCURRENT_TASKS=100
CONNECTION_POOL_SIZE=20
TASK_TIMEOUT_SECONDS=300


# ============================================================================
# LANGFUSE SETTINGS
LANGFUSE_PUBLIC_API_KEY=pk-lf-12fef4a9-e0c1-4aab-8dc6-038af79e5c1e
LANGFUSE_SECRET_API_KEY=sk-lf-372b0b73-5111-4e47-9dd0-6c21fd9ee3b4
LANGFUSE_SERVER_URL=http://localhost:3000
LANGFUSE_ENABLE_TRACING=false
LANGFUSE_DEFAULT_PROJECT=datapilot_agent
LANGFUSE_DEFAULT_ENVIRONMENT=development

# ============================================================================
# FILE PATHS (Docker overrides)
# ============================================================================

# Docker container paths
APP_DATA_DIR=/app/data
LOG_DIR=/app/logs
CACHE_DIR=/app/cache
